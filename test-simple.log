
***** Test "Simple Example" *****
[Comment] Create and fund the wallet.
[createWallet] Mnemonic sentence is "capital adult verb cloth scout fold shallow cram run camera online bridge prepare slice cliff device tiny few bid scout clock symbol total oppose".
[createWallet] First wallet address is addr_test1qrd032z07ylekguj8cq0d2j7sfnlxuqaez6y4n69vj7mcmx06gu9pkfgvfs4lsjhpsajz392evektm43ycp4eh8ze86q9m59pr.
[createWallet] First public key hash is daf8a84ff13f9b23923e00f6aa5e8267f3701dc8b44acf4564bdbc6c.
[CreateWallet] Created wallet identified as 92d2f5bbe96232530343b3f863963f206684bd67 for role "PAB".
[FundWallet] Funded wallet for role "PAB" with valueFromList [(AdaAssetId,100000000)].
[Comment] Activate the Marlowe application.
[ActivateApp] Activated MarloweApp instance "App" with identifier 43f06855-d161-4fc0-b4eb-21275fe3b0ac for role "PAB".
[Comment] Create the contract.
[CallCreate] Endpoint "create" called on instance "App" for owners [("PAB",AddressInEra (ShelleyAddressInEra ShelleyBasedEraShelley) (ShelleyAddress Testnet (KeyHashObj (KeyHash "daf8a84ff13f9b23923e00f6aa5e8267f3701dc8b44acf4564bdbc6c")) (StakeRefBase (KeyHashObj (KeyHash "cfd23850d92862615fc2570c3b2144aacb3365eeb126035cdce2c9f4")))))].
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewObservableState Null.
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [].
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewYieldedExportTxs [].
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewObservableState (Object (fromList [("contents",Array [String "bd2a1812-d2fc-48bb-91d9-5ffe80fee43d",Object (fromList [("contents",Object (fromList [("rolePayoutValidatorHash",String "cbba2ce82a3d71fbc86076c3a032822c10270dd28a6a8c36b6e557b5"),("rolesCurrency",Object (fromList [("unCurrencySymbol",String "ce91b4fffff6fde41b5e8c26f1b7bfc9729f4a592723c151bec87fcc")]))])),("tag",String "CreateResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitCreate] Creation confirmed for app address addr_test1wpzu7y3w9k6ez38xh658xzx7nd6qp9mq0e4mvju4lvqzaaqxg4ejf and role address addr_test1wr9m5t8g9g7hr77gvpmv8gpjsgkpqfcd629x4rpkkmj40dgze994r with MarloweParams {rolePayoutValidatorHash = cbba2ce82a3d71fbc86076c3a032822c10270dd28a6a8c36b6e557b5, rolesCurrency = ce91b4fffff6fde41b5e8c26f1b7bfc9729f4a592723c151bec87fcc}.
[PrintAppUTxOs] App address addr_test1wpzu7y3w9k6ez38xh658xzx7nd6qp9mq0e4mvju4lvqzaaqxg4ejf contains UTxO {unUTxO = fromList []}.
[Comment] Deposit funds.
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput (IDeposit "PAB" "PAB" (Token "" "") 15000000)] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewObservableState (Object (fromList [("contents",Array [String "3c945f66-e83c-4996-bb39-ef09d4b4229f",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitApplyInputs] Input application confirmed.
[Comment] Notify.
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput INotify] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewObservableState (Object (fromList [("contents",Array [String "5890c027-0350-4ceb-8556-495a016abded",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitApplyInputs] Input application confirmed.
[PrintAppUTxOs] Role address addr_test1wr9m5t8g9g7hr77gvpmv8gpjsgkpqfcd629x4rpkkmj40dgze994r contains UTxO {unUTxO = fromList [(TxIn "6632074d7bed6165c4060228c107982781bb862109f74cd9f294f2c8f09465cb" (TxIx 0),TxOut (AddressInEra (ShelleyAddressInEra ShelleyBasedEraAlonzo) (ShelleyAddress Testnet (ScriptHashObj (ScriptHash "cbba2ce82a3d71fbc86076c3a032822c10270dd28a6a8c36b6e557b5")) StakeRefNull)) (TxOutValue MultiAssetInAlonzoEra (valueFromList [(AdaAssetId,15000000)])) (TxOutDatumHash ScriptDataInAlonzoEra "e3e6c611d697ba15860b04aad80661e91fe692c43d83b50365294821b19adeb3"))]}.
[Comment] Redeem the funds.
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [].
[CallRedeem] Endpoint "redeem" called on instance "App" for role "PAB".
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewObservableState (Object (fromList [("contents",Array [String "61d9cdda-b8fe-4aa8-a9d8-a1eaf45fa0f0",Object (fromList [("tag",String "RedeemResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitRedeem] Redemption confirmed.
[Comment] Stop the application.
[runContract] Instance 43f06855-d161-4fc0-b4eb-21275fe3b0ac received ContractFinished Nothing.
[Stop] Instance "App" stopped.
[Comment] Check the balance.
[CheckFunds] Wallet for role "PAB" contains valueFromList [(AdaAssetId,97134169),(AssetId "ce91b4fffff6fde41b5e8c26f1b7bfc9729f4a592723c151bec87fcc" "PAB",1)].
[Comment] Return unused funds.
[ReturnFunds] Returned funds from wallet for role "PAB".
***** PASSED *****
