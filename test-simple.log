
***** Test "Simple Example" *****
[Comment] Create and fund the wallet.
[createWallet] Mnemonic sentence is "father virtual boy miracle gift reopen outer input suggest column pupil syrup canvas choice ecology kidney rigid noodle impulse decorate change parade road sea".
[createWallet] First wallet address is addr_test1qpcra9sj32u28h40pfwr8xnepx9h7ja2n33mnyx6uqtqa6p4u0kw5y4sl6xerllk7eannztytw2uc2cff8lle9qdt9aqvmcu98.
[createWallet] First public key hash is 703e96128ab8a3deaf0a5c339a79098b7f4baa9c63b990dae0160ee8.
[CreateWallet] Created wallet identified as d13edb4b21539b5dceeb2280d05a9410d976bf69 for role "PAB".
[FundWallet] Funded wallet for role "PAB" with valueFromList [(AdaAssetId,100000000)].
[Comment] Activate the Marlowe application.
[ActivateApp] Activated MarloweApp instance "App" with identifier 37c6b98c-aa14-4083-af51-c8cf289cab10 for role "PAB".
[Comment] Create the contract.
[CallCreate] Endpoint "create" called on instance "App" for owners [("PAB",AddressInEra (ShelleyAddressInEra ShelleyBasedEraShelley) (ShelleyAddress Testnet (KeyHashObj (KeyHash "703e96128ab8a3deaf0a5c339a79098b7f4baa9c63b990dae0160ee8")) (StakeRefBase (KeyHashObj (KeyHash "35e3ecea12b0fe8d91fff6f67b3989645b95cc2b0949fffc940d597a")))))].
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewObservableState Null.
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [].
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewYieldedExportTxs [].
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewObservableState (Object (fromList [("contents",Array [String "d6631691-44e9-46e0-9dcd-1af70d0b31a5",Object (fromList [("contents",Object (fromList [("rolePayoutValidatorHash",String "1cc9e568468ebd09d80f960f7e2fbb84903263469084171ddb888174"),("rolesCurrency",Object (fromList [("unCurrencySymbol",String "cf7d6d01d679e91dc3b03888fc9a9367363a709d016da5add57c0d03")]))])),("tag",String "CreateResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitCreate] Creation confirmed for app address addr_test1wqhhq4dd3dznfu93dx72tv9s3j0de32xkc4k2njxjfdr0csawms50 and role address addr_test1wqwvnetgg68t6zwcp7tq7l30hwzfqvnrg6ggg9camwygzaqghg9l2 with MarloweParams {rolePayoutValidatorHash = 1cc9e568468ebd09d80f960f7e2fbb84903263469084171ddb888174, rolesCurrency = cf7d6d01d679e91dc3b03888fc9a9367363a709d016da5add57c0d03}.
[PrintAppUTxOs] App address addr_test1wqhhq4dd3dznfu93dx72tv9s3j0de32xkc4k2njxjfdr0csawms50 contains UTxO {unUTxO = fromList []}.
[Comment] Deposit funds.
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput (IDeposit "PAB" "PAB" (Token "" "") 15000000)] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewObservableState (Object (fromList [("contents",Array [String "8413dfa8-fa56-47a3-ad3a-48dab11b6dd3",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitApplyInputs] Input application confirmed.
[Comment] Notify.
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput INotify] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewObservableState (Object (fromList [("contents",Array [String "6cc2528a-8ac8-43a7-9bbc-9e10c2993dda",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitApplyInputs] Input application confirmed.
[PrintAppUTxOs] Role address addr_test1wqwvnetgg68t6zwcp7tq7l30hwzfqvnrg6ggg9camwygzaqghg9l2 contains UTxO {unUTxO = fromList [(TxIn "7836aa0010e25a4ea13c61d7622bd68381a0af85b499f80a436e6b93535dcb6a" (TxIx 0),TxOut (AddressInEra (ShelleyAddressInEra ShelleyBasedEraAlonzo) (ShelleyAddress Testnet (ScriptHashObj (ScriptHash "1cc9e568468ebd09d80f960f7e2fbb84903263469084171ddb888174")) StakeRefNull)) (TxOutValue MultiAssetInAlonzoEra (valueFromList [(AdaAssetId,15000000)])) (TxOutDatumHash ScriptDataInAlonzoEra "e3e6c611d697ba15860b04aad80661e91fe692c43d83b50365294821b19adeb3"))]}.
[Comment] Redeem the funds.
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [].
[CallRedeem] Endpoint "redeem" called on instance "App" for role "PAB".
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewObservableState (Object (fromList [("contents",Array [String "f535e919-9588-46b0-87f1-bc066c0c571f",Object (fromList [("tag",String "RedeemResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitRedeem] Redemption confirmed.
[Comment] Stop the application.
[runContract] Instance 37c6b98c-aa14-4083-af51-c8cf289cab10 received ContractFinished Nothing.
[Stop] Instance "App" stopped.
[Comment] Check the balance.
[CheckFunds] Wallet for role "PAB" contains valueFromList [(AdaAssetId,97015269),(AssetId "cf7d6d01d679e91dc3b03888fc9a9367363a709d016da5add57c0d03" "PAB",1)].
[Comment] Return unused funds.
[ReturnFunds] Returned funds from wallet for role "PAB".
***** PASSED *****
