
***** Test "Simple Example" *****
[Comment] Create and fund the wallet.
[createWallet] Mnemonic sentence is "trumpet cart theory laugh wheel horn noise someone bracket run skull wealth virtual swing hold distance type mimic cycle inhale thank lecture ostrich sock".
[createWallet] First wallet address is addr_test1qr7y758wxpmczpdgwq53vpdtpt0g26lmcgegl5ma88yd6plc69ygprysr5cj270pgw4znmfzkk2n3t5pap0r92c3vzrsj8aw3f.
[createWallet] First public key hash is fc4f50ee30778105a870291605ab0ade856bfbc2328fd37d39c8dd07.
[CreateWallet] Created wallet identified as 2087f08f5e74f267f2a93c55375118c65bc83af9 for role "PAB".
[FundWallet] Funded wallet for role "PAB" with valueFromList [(AdaAssetId,100000000)].
[Comment] Activate the Marlowe application.
[ActivateApp] Activated MarloweApp instance "App" with identifier 332b8cec-e1ae-4f3e-836e-edc0853cddb4 for role "PAB".
[Comment] Create the contract.
[CallCreate] Endpoint "create" called on instance "App" for owners [("PAB",AddressInEra (ShelleyAddressInEra ShelleyBasedEraShelley) (ShelleyAddress Testnet (KeyHashObj (KeyHash "fc4f50ee30778105a870291605ab0ade856bfbc2328fd37d39c8dd07")) (StakeRefBase (KeyHashObj (KeyHash "f8d148808c901d312579e143aa29ed22b59538ae81e85e32ab116087")))))].
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewObservableState Null.
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [].
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewYieldedExportTxs [].
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewObservableState (Object (fromList [("contents",Array [String "cf9aa7c1-3c2d-472a-9285-c2fa2682d340",Object (fromList [("contents",Object (fromList [("rolePayoutValidatorHash",String "d5afc24da9572874e6852f25b9cc97cd300dc2ee9a6aff1fee9b9ac6"),("rolesCurrency",Object (fromList [("unCurrencySymbol",String "793d60f256346d40a1c44c7375c31a1320857cd9254d6e637174af51")]))])),("tag",String "CreateResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitCreate] Creation confirmed for app address addr_test1wqwy3vc0xkf2apruc0mvvdmkzuu3n8kkk83xhnkvqf2dsjgeyp5en and role address addr_test1wr26lsjd49tjsa8xs5hjtwwvjlxnqrwza6dx4lcla6de43swv0kh3 with MarloweParams {rolePayoutValidatorHash = d5afc24da9572874e6852f25b9cc97cd300dc2ee9a6aff1fee9b9ac6, rolesCurrency = 793d60f256346d40a1c44c7375c31a1320857cd9254d6e637174af51}.
[PrintAppUTxOs] App address addr_test1wqwy3vc0xkf2apruc0mvvdmkzuu3n8kkk83xhnkvqf2dsjgeyp5en contains UTxO {unUTxO = fromList [(TxIn "5a1ac46abb80e62dceeb400041526a1592c1b776483a6440079d9103232651e6" (TxIx 0),TxOut (AddressInEra (ShelleyAddressInEra ShelleyBasedEraAlonzo) (ShelleyAddress Testnet (ScriptHashObj (ScriptHash "1c48b30f3592ae847cc3f6c637761739199ed6b1e26bcecc0254d849")) StakeRefNull)) (TxOutValue MultiAssetInAlonzoEra (valueFromList [(AdaAssetId,2000000)])) (TxOutDatumHash ScriptDataInAlonzoEra "d255651d6bac8a9f94c09438301060cc269b2cd12251eeac596320cddaeb9118"))]}.
[Comment] Deposit funds.
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput (IDeposit "PAB" "PAB" (Token "" "") 15000000)] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewObservableState (Object (fromList [("contents",Array [String "9249af45-22b7-4eae-abc4-bd6b19379820",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[AwaitApplyInputs] Input application confirmed.
[Comment] Notify.
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [].
[CallApplyInputs] Endpoint "apply-inputs" called on instance "App" for inputs [ClientInput INotify] and times Just (POSIXTime {getPOSIXTime = 1645590825000},POSIXTime {getPOSIXTime = 1898051625000}).
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewObservableState (Object (fromList [("contents",Array [String "359be76a-9bee-4d87-baf4-631ed3394a0d",Object (fromList [("tag",String "ApplyInputsResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitApplyInputs] Input application confirmed.
[PrintAppUTxOs] Role address addr_test1wr26lsjd49tjsa8xs5hjtwwvjlxnqrwza6dx4lcla6de43swv0kh3 contains UTxO {unUTxO = fromList [(TxIn "c167d43723dec9f009bca4a7999b37e23b40910af5e3eeb7a0aed48fbd2a7e69" (TxIx 0),TxOut (AddressInEra (ShelleyAddressInEra ShelleyBasedEraAlonzo) (ShelleyAddress Testnet (ScriptHashObj (ScriptHash "d5afc24da9572874e6852f25b9cc97cd300dc2ee9a6aff1fee9b9ac6")) StakeRefNull)) (TxOutValue MultiAssetInAlonzoEra (valueFromList [(AdaAssetId,15000000)])) (TxOutDatumHash ScriptDataInAlonzoEra "e3e6c611d697ba15860b04aad80661e91fe692c43d83b50365294821b19adeb3"))]}.
[Comment] Redeem the funds.
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [].
[CallRedeem] Endpoint "redeem" called on instance "App" for role "PAB".
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewObservableState (Object (fromList [("contents",Array [String "43cdc0d0-16fa-45fe-8c78-280710e6eb0a",Object (fromList [("tag",String "RedeemResponse")])]),("tag",String "EndpointSuccess")])).
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received NewActiveEndpoints [ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "close"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "redeem"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "auto"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs-nonmerkleized"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "apply-inputs"}, aeMetadata = Nothing},ActiveEndpoint {aeDescription = EndpointDescription {getEndpointDescription = "create"}, aeMetadata = Nothing}].
[AwaitRedeem] Redemption confirmed.
[Comment] Stop the application.
[runContract] Instance 332b8cec-e1ae-4f3e-836e-edc0853cddb4 received ContractFinished Nothing.
[Stop] Instance "App" stopped.
[Comment] Check the balance.
[CheckFunds] Wallet for role "PAB" contains valueFromList [(AdaAssetId,97023702),(AssetId "793d60f256346d40a1c44c7375c31a1320857cd9254d6e637174af51" "PAB",1)].
[Comment] Return unused funds.
[ReturnFunds] Returned funds from wallet for role "PAB".
***** PASSED *****
